<h2>Products ({{filterProducts.length}})</h2>
<div class="row">
	<div class="col-xs-6">
		<form>
			<div class="form-group">
				<input type="text" class="form-control" placeholder="Filter" ng-model="query">
			</div>
		</form>
	</div>
	<div class="col-xs-6 text-right">
		Sort by:
		<a href="" ng-click="sort('name')"><i class="glyphicon" ng-class="
			{'glyphicon-chevron-up': isSortUp('name'), 'glyphicon-chevron-down': isSortDown('name')}"></i>Title</a> or
		<a href="" ng-click="sort('snippet')"><i class="glyphicon" ng-class="
			{'glyphicon-chevron-up': isSortUp('snippet'), 'glyphicon-chevron-down': isSortDown('snippet')}"></i>Description</a>
	</div>
</div>

<div class="row">
	<div class="col-md-3 product" ng-repeat="product in filterProducts = (products|filter:{$:query}|orderBy:sortField:!reverse)">
		<div class="thumbnail">
			<a href="/product/{{product.id}}">
				<img ng-src="{{product.imageUrl}}" alt="{{product.name}}" class="thumbnail">
			</a>
			<div class="caption">
				<span class="label"
					ng-init="status = product.status ? 'available now' : 'order now'"
					ng-class="{'label-success': product.status, 'label-warning': !product.status}">{{status}}</span>
				<h3><a href="/product/{{product.id}}">{{product.name|limitTo:15}}</a></h3>
				<p>{{product.snippet|limitTo:40}}</p>
				<small>{{product.date|date:'dd/mm/yyyy'}}</small>
				<p><a href="/product/{{product.id}}" class="btn btn-primary" role="button">View details</a></p>
			</div>
		</div>
	</div>
</div>